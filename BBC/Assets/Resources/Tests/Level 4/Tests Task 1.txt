using System;
using System.Collections.Generic;


public class Level3Task1
{
//<playerCode>
    private List<bool> _isBoxesOpened = new List<bool>();
    public bool OpenContainer(int boxNumber) => _isBoxesOpened[boxNumber];
    
    public bool isTaskCompleted()
    {
        _isBoxesOpened = new List<bool>()
        {
            true,false, false, false, false,true,true,false
        };
        var firstTest = OpenAndCountContainer(_isBoxesOpened.Count) == 3;
        _isBoxesOpened = new List<bool>()
        {
            true,false, false, false, false,true,true,false,true,false,true
        };
        var secondTest = OpenAndCountContainer(_isBoxesOpened.Count) == 3;
        var maxCount = 1000;
        var random = new Random();
        var result=FillData(maxCount, random);
        var thirdTest = OpenAndCountContainer(_isBoxesOpened.Count) == result;
        result = FillData(maxCount, random);
        var fourthTest=OpenAndCountContainer(_isBoxesOpened.Count)== result;
        return firstTest && secondTest && thirdTest && fourthTest;
    }

    private int FillData(int maxCount, Random random)
    {
        _isBoxesOpened = new List<bool>();
        var result = 0;
        for (var i = 0; i < random.Next(1,maxCount); i++)
        {
            var total = random.Next(2) == 1;
            if (total)
                result++;
            _isBoxesOpened.Add(total);
        }
        _isBoxesOpened[_isBoxesOpened.Count - 1] = true;
        return result;
    }
    
}