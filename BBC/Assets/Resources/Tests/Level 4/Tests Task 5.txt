using System;
using System.Collections.Generic;
using System.Linq;

public class Level3Task5
{
//<playerCode>
    private List<bool> _isPartsBroken;
    public bool IsBroken(int partNumber)
    {
        return _isPartsBroken[partNumber];
    }
    public void SetUpBoard(int pantNumber)
    {
        _isPartsBroken[pantNumber] = !_isPartsBroken[pantNumber];
    }
    public bool isTaskCompleted()
    {
        var maxCount = 500;
        var random=new Random();
        FillData(maxCount, random);
        RepairBrige(_isPartsBroken.Count);
        var firstCheck = !_isPartsBroken.Any(x=>x);
        FillData(maxCount, random);
        RepairBrige(_isPartsBroken.Count);
        var secondCheck = !_isPartsBroken.Any(x=>x);
        FillData(maxCount, random);
        RepairBrige(_isPartsBroken.Count);
        var thirdCheck = !_isPartsBroken.Any(x=>x);
        FillData(maxCount, random);
        RepairBrige(_isPartsBroken.Count);
        var fourthCheck = !_isPartsBroken.Any(x=>x);
        return true;
    }
    private void FillData(int maxCount, Random random)
    {
        _isPartsBroken = new List<bool>();
        for (var i = 0; i < random.Next(1, maxCount); i++)
        {
            var total = random.Next(2) == 1;
            _isPartsBroken.Add(total);
        }
        _isPartsBroken[_isPartsBroken.Count - 1] = true;
    }
    
}